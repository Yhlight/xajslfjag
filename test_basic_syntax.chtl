// 基础语法测试文件
/* 多行注释测试 */
-- 生成器注释测试

// 测试文本节点
text
{
    "这是一段文本"
}

text
{
    这是无修饰字面量文本
}

// 测试元素节点和属性
html
{
    head
    {
        title
        {
            text
            {
                CHTL测试页面
            }
        }
    }

    body
    {
        div
        {
            id: main;
            class: container;
            
            text
            {
                Hello World
            }
            
            // 测试局部样式块
            style
            {
                // 内联样式
                color: red;
                font-size: 16px;
                
                // 类选择器
                .highlight
                {
                    background-color: yellow;
                }
                
                // ID选择器
                #special
                {
                    border: 1px solid blue;
                }
                
                // 伪类选择器
                &:hover
                {
                    opacity: 0.8;
                }
                
                // 伪元素选择器
                &::before
                {
                    content: "前缀";
                }
            }
            
            span
            {
                class: highlight;
                text
                {
                    这是高亮文本
                }
            }
        }
    }
}

// 测试模板系统
[Template] @Style DefaultText
{
    color: #333;
    font-family: Arial, sans-serif;
    line-height: 1.5;
}

[Template] @Element Box
{
    padding: 10px;
    margin: 5px;
    border: 1px solid #ccc;
    
    style
    {
        @Style DefaultText;
    }
}

[Template] @Var ThemeColor
{
    primary: #007bff;
    secondary: #6c757d;
    success: #28a745;
}

// 测试自定义系统
[Custom] @Style TextSet
{
    font-weight: bold;
    text-decoration: underline;
}

[Custom] @Style WhiteText
{
    @Style TextSet;
    color: white;
}

[Custom] @Element CustomBox
{
    @Element Box;
    
    style
    {
        background-color: ThemeColor(primary);
    }
}

// 测试原始嵌入
[Origin] @Html
{
    <custom-element>
        <slot></slot>
    </custom-element>
}

[Origin] @Style
{
    @media (max-width: 768px) {
        .container {
            padding: 0;
        }
    }
}

[Origin] @JavaScript
{
    console.log('这是原始JavaScript代码');
    function customFunction() {
        return 'Hello from custom function';
    }
}

// 测试配置组
[Configuration]
{
    INDEX_INITIAL_COUNT = 1;
    DISABLE_NAME_GROUP = false;
    DISABLE_CUSTOM_ORIGIN_TYPE = false;
    DEBUG_MODE = true;
    
    [Name]
    {
        CUSTOM_STYLE = [@Style, @style, @CSS];
        CUSTOM_ELEMENT = @Element;
        TEMPLATE_STYLE = @Style;
    }
    
    [OriginType]
    {
        ORIGINTYPE_VUE = @Vue;
        ORIGINTYPE_MARKDOWN = @Markdown;
    }
}

// 测试命名配置组
[Configuration] @Config Development
{
    DEBUG_MODE = true;
    MINIFY_OUTPUT = false;
}

// 测试命名空间
[Namespace] TestNamespace
{
    [Custom] @Element NamespacedBox
    {
        border: 2px solid green;
    }
}

// 测试约束
div
{
    except span, input;
    
    p
    {
        text
        {
            这个div中不允许span和input元素
        }
    }
}

// 测试use语法
use html5;
use @Config Development;

// 使用模板和自定义元素
div
{
    @Element CustomBox;
    
    text
    {
        这是使用了自定义元素的文本
    }
}