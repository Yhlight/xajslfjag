// Comprehensive CHTL Test
// Tests all major features

// Comments test
/* Multi-line
   comment */
-- Generator comment

// Basic elements and text
div {
    id: "main-container";
    class: "container wrapper";
    
    // Nested elements
    h1 { "Welcome to CHTL" }
    
    p {
        "This is a paragraph with "
        span { "inline text" }
        " continuation."
    }
    
    // Attributes with different formats
    img {
        src: "/images/logo.png";
        alt: "CHTL Logo";
        width: "100";
        height: "100";
    }
    
    // Style blocks (local)
    section {
        style {
            width: 100%;
            padding: 20px;
            
            .auto-class {
                color: blue;
            }
            
            &:hover {
                background: #f0f0f0;
            }
        }
        
        "Section content"
    }
}

// Templates
[Template] @Style button-style {
    background: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
}

[Template] @Element Card {
    div {
        class: "card";
        style {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px;
        }
        
        h3 { "Card Title" }
        p { "Card content goes here" }
    }
}

// Template usage
button {
    @Style button-style;
    "Click me!"
}

@Element Card;

// Custom elements
[Custom] @Style theme-colors {
    primary: #007bff;
    secondary: #6c757d;
    success: #28a745;
}

[Custom] @Element Header {
    header {
        nav {
            ul {
                li { a { href: "/"; "Home" } }
                li { a { href: "/about"; "About" } }
                li { a { href: "/contact"; "Contact" } }
            }
        }
    }
}

// Origin embedding
[Origin] @Style {
    /* Raw CSS */
    body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
    }
}

[Origin] @JavaScript {
    console.log("CHTL is loaded!");
}

// Import statements
[Import] [Custom] Header from "./components/header.chtl";
[Import] [Template] @Style theme from "./styles/theme.chtl" as theme-styles;

// Namespace
[Namespace] components {
    @Element Header;
}

// Configuration
[Configuration] @Config site-config {
    title: "My CHTL Site";
    version: "1.0.0";
    
    [Name] {
        author: "CHTL Developer";
    }
}

// Constraints
div {
    except p;  // No p elements allowed
    
    span { "This is allowed" }
}

// Use statement
use html5;

// Script blocks
script {
    function init() {
        console.log("Initialized");
    }
    
    window.addEventListener('load', init);
}

// Global style block
style {
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
    }
}