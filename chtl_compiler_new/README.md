# CHTL编译器 - 全新重构版本

## 🎯 项目目标

严格按照CHTL语法文档实现完整的CHTL编译器，追求语法的完整与绝对准确。

## 🏗️ 架构设计

基于目标规划.ini中的统一架构：

```
CHTL源代码
    ↓
CHTLUnifiedScanner (精准代码切割器)
    ↓
CompilerDispatcher (编译器调度器)
    ↓
┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│    CHTL     │ │   CHTL JS   │ │     CSS     │ │JavaScript   │
│  Compiler   │ │  Compiler   │ │  Compiler   │ │  Compiler   │
│  (手写)     │ │  (手写)     │ │  (ANTLR)    │ │  (ANTLR)    │
└─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘
    ↓
编译结果合并 (HTML输出)
```

## 📋 开发阶段

### 阶段1: 基础架构 ✅
- [x] 项目目录结构
- [x] 核心数据结构设计

### 阶段2: 词法分析 🚧
- [ ] CHTL Token定义
- [ ] CHTL词法分析器
- [ ] CHTL JS Token定义
- [ ] CHTL JS词法分析器

### 阶段3-8: 待实现
- 语法解析器
- 代码生成器
- 扫描器系统
- 调度器集成
- 模块系统
- 完整测试

## ⚡ 核心原则

1. **严格遵循语法文档** - 不允许任何私自扩展
2. **完整实现** - 每个组件都有完整的实现代码
3. **模块化设计** - 各编译器完全独立
4. **增量开发** - 每阶段完成后都能编译成功

## 🎭 特色功能

- 支持无修饰字面量 (unquoted literals)
- CE对等式 (: 与 = 完全等价)
- 局部样式块与自动化类名/ID
- 模板系统 (元素模板、样式组模板、变量组模板)
- 自定义元素与变量组
- 导入系统 (@Html, @Style, @JavaScript, @Chtl, @CJmod)
- CJMOD扩展系统